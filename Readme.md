TODOs:
- implement properties for loop prob
- Handle the case when loop bound is not a multiple of the tiling factor
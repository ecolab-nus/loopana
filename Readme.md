TODOs:
implement affine transforms (filling the TODOs in passes/transform_pass.rs)
implement properties for loop prob